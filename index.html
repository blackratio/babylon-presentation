<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">

	<title>BABYLON JS – Moteur 3D open source</title>

	<meta name="description" content="BABYLON JS – Open source 3D engine - WebGL and Javascript">
	<meta name="author" content="David wieczorek">

	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/dwk.css">
	<link rel="stylesheet" href="css/theme/night.css" id="theme">

	<!-- Code syntax highlighting -->
	<link rel="stylesheet" href="lib/css/zenburn.css">

	<!-- Printing and PDF exports -->
	<script>
		var link = document.createElement('link');
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
		document.getElementsByTagName('head')[0].appendChild(link);
	</script>

	<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
</head>

<body>

	<div class="reveal">

		<!-- Any section element inside of this container is displayed as a slide -->
		<div class="slides">

			<section>
				<img src="img/babylonjs.png" class="svg">
				<h3>webGL - BABYLON JS</h3>
				<h5>Moteur 3D open source</h5>
				<div class="svg_prez_wrapper">
					<img src="img/html5.svg" class="svg">
					<img src="img/css3.svg" class="svg">
					<img src="img/js.svg" class="svg">
				</div>
				<p>
					<small>Présenté par Davidou</small>
				</p>
			</section>

			<section>
				<section id="fragments">
					<h2>Introduction</h2>
					<p class="fragment">1- WebGL</p>
					<p class="fragment">2- BabylonJS</p>
				</section>
				<section id="fragments">
					<h2>Concepts de base</h2>
					<p class="fragment">1- Initialisiation</p>
					<p class="fragment">2- Caméras</p>
					<p class="fragment">3- Eléments</p>
					<p class="fragment">4- Sources de lumière & ombres</p>
					<p class="fragment">5- Animmations</p>
				</section>
				<section>
					<h2>Utilisation avancée</h2>
					<p class="fragment">1- Importer des mesh</p>
					<p class="fragment">2- Texturing</p>
					<p class="fragment">3- Actions</p>
				</section>
				<section>
					<h2>Infos supplémentaires</h2>
					<p class="fragment">1- La compatibilité</p>
					<p class="fragment">2- Les ressources/calculs</p>
					<p class="fragment">3- Liens intéssants</p>
				</section>
			</section>

			<section>
				<section>
					<h2>Introduction</h2>
					<p>Quelques définitions</p>
				</section>
				<section>
					<h3>WebGL</h3>
					<p>
						WebGL est une spécification d'affichage 3D pour les navigateurs web, créée par Khronos Group permettant d'utiliser le standard OpenGL ES via les élements canvas du HTML5
					</p>
					<h5>Il s'appuie en plus sur différents languages et technologies:</h5>
					<ul>
						<li>Html5 / Canvas</li>
						<li>JavaScript</li>
						<li>Données au format JSON</li>
						<li>Accélération matérielle pour les calculs et le rendu 3D à l'aide des pilotes OpenGL ES</li>
					</ul>
					<p>Christian entrerra plus dans les détails sur ce sujet :-)</p>
				</section>
				<section>
					<h3>BabylonJS</h3>
					<p>
						BabylonJS est un moteur 3D basé sur openGL et fait en Javascript. Il est compatible multi navigateur ( ie11 oui oui, firefox, chrome ) et prend en charge les écrans tactiles.
					</p>
					<p>
						On peut même se baser sur les bones créé via les logiciels de modélisation, on peut donc animer nos personnages ou autre structures assez facilement.
					</p>
				</section>
			</section>

			<section>
				<section>
					<h2>Concepts de base</h2>
				</section>
				<section>
					<h3>1 - Initialisiation</h3>
				</section>
				<section>
					<h3>HTML</h3>
					<p>On créé un canvas html5 avec un ID dans le DOM</p>

					<pre><code class="hlhtml" data-trim contenteditable>
<canvas id="davidooCanvas"></canvas>
						</code></pre>
					<q cite="">C'est fini pour l'HTML...</q>
				</section>
				<section>
					<h3>CSS</h3>

					<pre><code class="hlcss" data-trim contenteditable>
html, body {
	overflow: hidden;
	width   : 100%;
	height  : 100%;
	margin  : 0;
	padding : 0;
}

#renderCanvas {
	width   : 100%;
	height  : 100%;
	touch-action: none;
}
						</code></pre>
				</section>

				<section>
					<h3>JS</h3>
					<pre><code class="hljs" data-trim contenteditable>
// On va ajouter un Event Listener et encapsuler notre code ce qui nous permetra
// de charger le code quand le DOM sera entièrrement chargé.
window.addEventListener('DOMContentLoaded', function() {

	// On attribut la variable canvas à notre élément ajouté dans le DOM
	var canvas = document.getElementById('davidooCanvas');

	// On charge le moteur BabylonJS lié à notre élément
	var engine = new BABYLON.Engine(canvas, true);

	// Notre fonction createScene
	// Tout notre code va se trouver ici!
	var createScene = function(){

		// On créé notre Object scene
		var scene = new BABYLON.Scene(engine);
		scene.clearColor = new BABYLON.Color3( 254, 254, 254);

		// return the created scene
		return scene;

	}

	// Assigne notre fonction createScene à scene
	var scene = createScene();

	// Lance le moteur en boucle
	engine.runRenderLoop(function(){
		scene.render();
	});

	// Check si la fenêtre est redimentionnée
	window.addEventListener('resize', function(){
		engine.resize();
	});

});
					</code></pre>
					<p>Le moteur est initialisé et prêt à fonctionner</p>
					<p>...</p>
				</section>
				<section>
					<h3>2 - Caméras</h3>
					<pre><code class="hljs" data-trim contenteditable>

// Parameters : name, alpha, beta, radius, target, scene
var camera = new BABYLON.ArcRotateCamera("Camera", 0, 0.8, 90, BABYLON.Vector3.Zero(), scene);
camera.lowerBetaLimit = 0.1;
camera.upperBetaLimit = (Math.PI / 2) * 0.9;
camera.lowerRadiusLimit = 30;
camera.upperRadiusLimit = 150;
camera.attachControl(canvas, true);

						</code></pre>
						<img src="img/camera-arc01.jpg" alt="" style="width: 400px" />
				</section>
				<section>
					<h3>Types de caméra</h3>
					<p>FreeCamera(name, position, scene)</p>
					<p>ArcRotateCamera(name, alpha, beta, radius, target, scene)</p>
					<p>TouchCamera(name, position, scene)</p>
					<p>DeviceOrientationCamera(name, position, scene)</p>
					<p>FollowCamera(name, position, scene)</p>
					<p>VirtualJoysticksCamera(name, position, scene)</p>
					<p>AnaglyphCamera(name, position (in Vector3), eyeSpace (in degrees), scene)</p>
					<p>GamepadCamera(name, position, scene)</p>
					<p>VRDeviceOrientationFreeCamera(name, position, scene)</p>
				</section>
				<section>
					<h3>3 - Elements</h3>
					<p>On va ajouter un sol et un cube dans notre scene</p>
					<pre><code class="hljs" data-trim contenteditable>

// On défini rapidement notre sol ( ground )
var ground = BABYLON.Mesh.CreateGround('ground1', 56, 56, 6, scene);
var materialGround = new BABYLON.StandardMaterial("textureground", scene);
materialGround.alpha = 1;
materialGround.diffuseColor = new BABYLON.Color3(0.5, 0.8, 0.9);
ground.material = materialGround;

// Il y a une foncton CreateBox(name, size, scene)
var box = BABYLON.Mesh.CreateBox("box1", 9.0, scene);
// On positionne notre cube dans la scene
box.position = new BABYLON.Vector3(10, 8 , -6);

var materialBox = new BABYLON.StandardMaterial("texture1", scene);
materialBox.alpha = 1;
materialBox.diffuseColor = new BABYLON.Color3(1.0, 0.1, 0.3);
box.material = materialBox;
//materialBox.diffuseTexture = new BABYLON.Texture("http://texturelib.com/Textures/wood/planks%20new/wood_planks_new_0001_02_preview.jpg", scene);

						</code></pre>
				</section>
				<section>
					<p data-height="600" data-theme-id="1844" data-slug-hash="JGBoEr" data-default-tab="result" data-user="blackratio" class='codepen'>See the Pen <a href='http://codepen.io/blackratio/pen/JGBoEr/'>Babylon - box</a> by blackratio (<a href='http://codepen.io/blackratio'>@blackratio</a>) on <a href='http://codepen.io'>CodePen</a>.</p>
					<script async src="//assets.codepen.io/assets/embed/ei.js"></script>
				</section>
				<section>
					<h3>4 - Sources de lumière & ombres</h3>
					<pre><code class="hljs" data-trim contenteditable>

// Création de la source lumineuse attachée à une objet sphere
// Paramètres : name, position, scene

// Directional light
var lightDir = new BABYLON.DirectionalLight("dir01", new BABYLON.Vector3(-1, -2, -1), scene);
lightDir.position = new BABYLON.Vector3(20, 40, 20);
lightDir.intensity = 0.8;

var lightSphere = BABYLON.Mesh.CreateSphere("sphere", 10, 2, scene);
lightSphere.position = lightDir.position;
lightSphere.material = new BABYLON.StandardMaterial("light", scene);
lightSphere.material.emissiveColor = new BABYLON.Color3(1, 1, 0);

// SpotLight
var lightSpot = new BABYLON.SpotLight("spot02", new BABYLON.Vector3(30, 40, 20), new BABYLON.Vector3(-1, -2, 0), 1.1, 10, scene);
lightSpot.intensity = 0.5;

var lightSphere2 = BABYLON.Mesh.CreateSphere("sphere", 10, 2, scene);
lightSphere2.position = lightSpot.position;
lightSphere2.material = new BABYLON.StandardMaterial("light", scene);
lightSphere2.material.emissiveColor = new BABYLON.Color3(1, 1, 0);

						</code></pre>
				</section>
				<section>
					<p>
						SpotLight(name, position, scene)
					</p>
					<img src="img/light-spot.png" alt="" style="width: 250px" />
				</section>
				<section>
					<p data-height="600" data-theme-id="1844" data-slug-hash="qbyEyY" data-default-tab="result" data-user="blackratio" class='codepen'>See the Pen <a href='http://codepen.io/blackratio/pen/qbyEyY/'>Babylon - lights</a> by blackratio (<a href='http://codepen.io/blackratio'>@blackratio</a>) on <a href='http://codepen.io'>CodePen</a>.</p>
					<script async src="//assets.codepen.io/assets/embed/ei.js"></script>
				</section>
				<section>
					<h2>Types de source lumineuse</h2>
					<p>PointLight(name, position, scene)</p>
					<p>DirectionalLight(name, position, scene)</p>
					<p>SpotLight(name, position, direction, angle, exposition, scene)</p>
					<p>HemisphericLight(name, position, scene)</p>
				</section>
				<section>
					<p>Il nous manque quelque chose...</p>
				</section>
				<section>
					<p>Les ombres</p>
					<pre><code class="hljs" data-trim contenteditable>

// Nous allons utiliser la fonction ShadowGenerator et la lier à notre light
// Paramètres : taille, source de lumière
var shadowGenerator = new BABYLON.ShadowGenerator(600, lightDir);
// On souhaite avoir l'ombre de notre box
shadowGenerator.getShadowMap().renderList.push(box);
// Il ne manque plus qu'à spécifier sur quel élément on souhaite projeter l'ombre
ground.receiveShadows = true;
// On peut également utiliser des filtres pour notre ombre, ici un blur
shadowGenerator.useBlurVarianceShadowMap = true;

						</code></pre>
				</section>
				<section>
					<p data-height="600" data-theme-id="1844" data-slug-hash="QyBwZy" data-default-tab="result" data-user="blackratio" class='codepen'>See the Pen <a href='http://codepen.io/blackratio/pen/QyBwZy/'>Babylon - lights and shadows</a> by blackratio (<a href='http://codepen.io/blackratio'>@blackratio</a>) on <a href='http://codepen.io'>CodePen</a>.</p>
					<script async src="//assets.codepen.io/assets/embed/ei.js"></script>
				</section>
				<section>
					<h3>5 - Animations</h3>
					<pre><code class="hljs" data-trim contenteditable>

// Animation
// On paramètre notre objet d'animation
// Paramètre : name, propriété, fps, type of change (float, vector, color, matrix), type of behavior ( loop, constant, relative )
var animationBox = new BABYLON.Animation("myAnimation", "position", 60, BABYLON.Animation.ANIMATIONTYPE_VECTOR3, BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);

// On définie la nouvelle position de notre objet
var nextPos = new BABYLON.Vector3(-10, 8 , -6);
var nextPos2 = new BABYLON.Vector3(-10, 20 , -6);

// On créé un tableau pour nos différentes valeurs
var keys = [];

// On choisie nos valeurs pour chaque frame, ici 100 au total
keys.push({
	frame: 0,
	value: box.position
});
keys.push({
	frame: 100,
	value: nextPos
});
keys.push({
	frame: 200,
	value: nextPos2
});

// On attache notre tableau de valeurs à notre object animation
animationBox.setKeys(keys);

// On lie notre animation à notre objet
box.animations.push(animationBox);

// On lance notre animation
// beginAnimation(target, from, to, optional	loop, optional	speedRatio, optionalonAnimationEnd(), animatable)
scene.beginAnimation(box, 0, 200, true);

						</code></pre>
				</section>
				<section>
					<p data-height="600" data-theme-id="1844" data-slug-hash="vLaOVN" data-default-tab="result" data-user="blackratio" class='codepen'>See the Pen <a href='http://codepen.io/blackratio/pen/vLaOVN/'>babylon -  animation</a> by blackratio (<a href='http://codepen.io/blackratio'>@blackratio</a>) on <a href='http://codepen.io'>CodePen</a>.</p>
					<script async src="//assets.codepen.io/assets/embed/ei.js"></script>
				</section>
				<section data-background="http://i.giphy.com/90F8aUepslB84.gif"></section>
		</section>

		<section>
			<section>
				<h2>Utilisation avancée</h2>
			</section>

			<section>
				<h3>1 - Importer des meshs</h3>
			</section>
		</section>

		</div>

	</div>

	<script src="lib/js/head.min.js"></script>
	<script src="js/reveal.js"></script>

	<script>
		// Full list of configuration options available at:
		// https://github.com/hakimel/reveal.js#configuration
		Reveal.initialize({
			controls: true,
			progress: true,
			history: true,
			center: true,

			transition: 'slide', // none/fade/slide/convex/concave/zoom

			// Optional reveal.js plugins
			dependencies: [{
				src: 'lib/js/classList.js',
				condition: function() {
					return !document.body.classList;
				}
			}, {
				src: 'plugin/markdown/marked.js',
				condition: function() {
					return !!document.querySelector('[data-markdown]');
				}
			}, {
				src: 'plugin/markdown/markdown.js',
				condition: function() {
					return !!document.querySelector('[data-markdown]');
				}
			}, {
				src: 'plugin/highlight/highlight.js',
				async: true,
				callback: function() {
					hljs.initHighlightingOnLoad();
				}
			}, {
				src: 'plugin/zoom-js/zoom.js',
				async: true
			}, {
				src: 'plugin/notes/notes.js',
				async: true
			}]
		});
	</script>

</body>

</html>
